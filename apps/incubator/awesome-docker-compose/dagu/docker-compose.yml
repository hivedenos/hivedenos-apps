version: 
 
services:
    # init container updates permission
    init:
        image: 
        user: root
        volumes:
            - dagu_config:/home/dagu/.config/dagu
            - dagu_data:/home/dagu/.local/share
        command: chown -R dagu /home/dagu/.config/dagu/ /home/dagu/.local/share
    # ui server process
    server:
        image: 
        environment:
            - DAGU_PORT=8080
        restart: unless-stopped
        ports:
            - 
        volumes:
            - dagu_config:/home/dagu/.config/dagu
            - dagu_data:/home/dagu/.local/share
        depends_on:
            - init
    # scheduler process
    scheduler:
        image: 
        restart: unless-stopped
        volumes:
            - ./dagu_config:/home/dagu/.config/dagu
            - ./dagu_data:/home/dagu/.local/share
        command: dagu scheduler
        depends_on:
            - init
